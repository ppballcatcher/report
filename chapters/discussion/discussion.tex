%!TEX root = ../../report.tex
\chapter{Discussion}
\label{chap:discussion}

One of the main problems of the system is, that measurements obtained from the piezoelectric sensors are inconsistent.
Even small variations in measured time differences cause a large error in calculated position.
Here we discuss possible ways of improving the precision, although at this stage these propositions are yet to be tested.

\section{Platform}
The platform decides how the waves travel from the impact point. Both the shape and the propagation velocity.
Using a larger platform would allow for greater distances between each sensor and thus greater difference in timing values, giving more room for error.

At the end of writing a wave velocity estimate is used, which may or may not be entirely correct.
Knowing the velocity of the wave in the used material precisely would obviously allow for more accurate calculations.

\section{Sensors and their signals}
Instead of using comparator circuits and outputting a single ``high'' voltage beyond a certain threshold, one could skip the analogue comparator completely and sample the signal from the piezoelectric sensors digitally.
Processing the cross correlation of the sampled signals one by one, the time shift between each signal should theoretically be the time for the at the tallest peak of the cross correlation \cite{correlationTDOA}. This operation could be implemented in parallel on the FPGA.

In theory, with a perfect model, the outcome of four-sensor multilateration should be a single point. With errors in measurements this is no longer true however. Using more than four sensors would provide more sensor data to use in an optimization problem which may be solved using e.g. a least-squares method.

Similar to \cite{anon09}, most problems stem from the sensors and the signal pre-processing.
The main difference, which turns out to be in our favour, is that we are not currently interested in the amplitude of the signals.
Properly amplifying the signals seem to also pose a problem.
However, if this project wants to attempt estimating the drop-height of the ball, the signal amplitude becomes important.


% * Platform material/size/shape.
%   - correctly determine wave velocities
% * Use additional (more than 4) sensors.
% * No comparator circuit; instead sample continuously and cross-correlate signals
%   in FPGA to find time time-lag.
% * Even a small deviation in measurements results in a big difference in final (x,y) position.
% * If more than a single pulse, one can average TODA of each of the pulses

% afgr√¶nse problem: Mest mekanisk / analoge problemer

